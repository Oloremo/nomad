<div class="job-status-panel boxed-section">
  <div class="boxed-section-head">
    <h2>Status</h2>
    <div class="select-mode">
      <button type="button"
        class="button is-small is-borderless {{if (eq this.mode "current") "is-active"}}"
        {{on "click" (action (mut this.mode) "current")}}
      >
        Current
      </button>
      <button type="button"
        class="button is-small is-borderless {{if (eq this.mode "historical") "is-active"}}"
        {{on "click" (action (mut this.mode) "historical")}}>
        Historical
      </button>
    </div>
  </div>
  {{#if this.showDataFaker}}
    <form class="fake-box-for-manipulating-allocs">
      <header>Manipulate mock data:</header>
      {{#each this.allocTypes as |type|}}
        <label>
          <strong>{{capitalize type}}: {{get @job.summary type}}</strong>
          <input type="range" 
              {{on "input" (fn this.modifyMockAllocs type)}}
              min="0"
              max="1000"
              value={{get @job.summary type}}
              steps="1">
        </label>
      {{/each}}
    </form>
  {{/if}}
  <div class="boxed-section-body">
    {{#if (eq this.mode "current")}}
      <h3 class="title is-4 running-allocs-title"><strong>{{@job.runningAllocs}}/{{this.totalAllocs}}</strong> Allocations Running</h3>
        <JobStatus::AllocationRow @totalAllocs={{this.totalAllocs}}
          @allocBlocks={{hash
            running=@job.runningAllocs
            failed=@job.failedAllocs
            unknown=@job.unknownAllocs
            queued=@job.queuedAllocs
            complete=@job.completeAllocs
            starting=@job.startingAllocs
            lost=@job.lostAllocs
          }}
        />
    {{/if}}
    {{#if (eq this.mode "historical")}}
      But what about before?
    {{/if}}
  </div>
</div>